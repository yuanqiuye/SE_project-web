{"version":3,"file":"js/13.afa4da71.js","mappings":"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","sources":["webpack://cr/./src/api/save.js","webpack://cr/./src/assets/import.js","webpack://cr/./src/components/user/floorPage/ClassroomInfo.vue","webpack://cr/./src/components/user/floorPage/ClassroomInfo.vue?14e9","webpack://cr/./src/components/user/floorPage/FloorSelector.vue","webpack://cr/./src/components/user/floorPage/FloorSelector.vue?548e","webpack://cr/./src/components/user/floorPage/buildingSelector.vue","webpack://cr/./src/components/user/floorPage/buildingSelector.vue?d41b","webpack://cr/./src/components/user/other/SaveButton.vue","webpack://cr/./src/components/user/other/SaveButton.vue?47f4","webpack://cr/./src/assets/floor/ sync ^\\.\\/.*\\/.*$"],"sourcesContent":["export async function getIsSave(classroomID) {\n    var account = localStorage.getItem('loggedInAccount').toString();\n    if (classroomID != null) {\n        const response = await fetch('https://qiuye.mooo.com/api/app/getIsSave', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            credentials: 'include', // 添加这一行以携带凭据\n            body: JSON.stringify({\n                userAccount: account,\n                classroomID: classroomID\n            }),\n        });\n\n        if (!response.ok) {\n            throw new Error('请求失败');\n        }\n        return response.json();\n    }\n    return false;\n}\n\n/*\ninput:\n  classroomID: 教室id\nuserAccount: <string>\n\nreturn: <bool>\n*/\n\nexport async function addSave(classroomID) { // 添加收藏\n    // alert(`[api/save/addSave]\\nclassroomID = ${classroomID}`); // debug\n    const account = localStorage.getItem('loggedInAccount');\n    await fetch('https://qiuye.mooo.com/api/app/addSave', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            userAccount: account,\n            classroomID: classroomID,\n        }),\n    });\n}\n/*\ninput:\n  classroomID: 教室id\nuserAccount: <string>\n*/\n\nexport async function removeSave(classroomID) { // 移除收藏\n    const account = localStorage.getItem('loggedInAccount');\n    await fetch('https://qiuye.mooo.com/api/app/romoveSave', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n            userAccount: account,\n            classroomID: classroomID,\n        }),\n    });\n}\n/*\ninput:\n  classroomID: 教室id\nuserAccount: <string>\n*/\n\nexport async function getAllSave() { // user的全部收藏\n\n    const account = localStorage.getItem('loggedInAccount');\n    const response = await fetch('https://qiuye.mooo.com/api/app/getAllSave', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({ userAccount: account }),\n    });\n\n    if (!response.ok) {\n        throw new Error('请求失败');\n    }\n\n    const data = await response.json();\n\n    const arr = [];\n\n    // 遍歷 data 中的每個屬性\n    for (const key in data) {\n        // 檢查屬性值是否為 true\n        if (data[key] === true) {\n            // 如果是 true，將該鍵添加到 arr 中\n            arr.push(key);\n        }\n    }\n    console.log(arr);\n    return arr;\n\n\n}\n/*\nuserAccount: <string>\n\nreturn: <array>\n*/","import classroomInfo from \"@/assets/classroom-info.json\"; // 教室資訊\n\nexport function getClassroomInfo(classroomID){ // 獲得教室資料\n  const classroom_default = { building: \"未知的大樓\", name: \"未知\", number: \"-\", equipment: \"-\" };\n  let classroom = classroom_default;\n  if (classroomID in classroomInfo) classroom = classroomInfo[classroomID];\n  classroom.id = classroomID;\n  return { ...classroom }; // copy\n}\n/*\n  為什麼要多寫一個function是因為要處理沒有資料的教室\n  如果是需要拿到\"有資料\"的全部教室代號,會直接在vue檔內 import \"classroom-info.json\"\n*/","<template>\n  <div class=\"classroomInfo borderShadow ts-box\">\n    <table class=\"ts-table is-definition\">\n      <tbody>\n        <tr>\n          <td>教室名稱</td>\n          <td class=\"saveButton-tdFix\">\n            {{ classroomInfo.name }}\n            <save-button :classroomID=\"classroomInfo.id\"/>\n          </td>\n        </tr>\n        <tr>\n          <td>人數</td>\n          <td>{{ classroomInfo.number }}</td>\n        </tr>\n        <tr>\n          <td>器材</td>\n          <td>{{ classroomInfo.equipment }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\n  import { getClassroomInfo } from \"@/assets/import\"; // 查詢教室資訊\n  import saveButton from \"@/components/user/other/SaveButton.vue\"; // 收藏按鈕comp\n\n  export default{\n    components: {\n      \"save-button\": saveButton\n    },\n    props: [\n      \"classroomID\" // 教室id\n    ],\n    data(){\n      return {\n        classroomInfo: getClassroomInfo(null)\n      }\n    },\n    watch: {\n      classroomID(newValue){\n        this.classroomInfo = getClassroomInfo(newValue);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .classroomInfo{\n    margin-top: 8px;\n    border: none;\n    font-size: 16px;\n  }\n  .classroomInfo > table > tbody > tr > td:first-child{\n    width: 100px;\n    font-weight: bold;\n  }\n</style>","import { render } from \"./ClassroomInfo.vue?vue&type=template&id=0b4e5fd9&scoped=true\"\nimport script from \"./ClassroomInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ClassroomInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ClassroomInfo.vue?vue&type=style&index=0&id=0b4e5fd9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b4e5fd9\"]])\n\nexport default __exports__","<template>\n  <div class=\"floor box\">\n    <div class=\"floor-main\">\n      <div>\n        <img class=\"floor-main-bg\" draggable=\"false\" :src=\"getBGurl(slt.building, slt.floor)\">\n        <div\n          class=\"block\"\n          v-for=\"block in getBlockData(slt.building, slt.floor)\"\n          :key=\"block.id\"\n          :style=\"blockStyle(block)\"\n          @click=\"setClassroom(block.id)\"\n        >\n          {{ isShowID(block.id) ? block.id : \"\" }}\n        </div>\n      </div>\n    </div>\n    <div class=\"floor-switch\">\n      <span class=\"ts-icon is-caret-up-icon\" @click=\"clickSwitchButton('up')\"></span>\n      <span class=\"floor-switch-nth\">{{ slt.floor+\"F\" }}</span>\n      <span class=\"ts-icon is-caret-down-icon\" @click=\"clickSwitchButton('down')\"></span>\n    </div>\n  </div>\n</template>\n\n<script>\n  import config from \"@/assets/floor/floor-config.json\"; // 平面圖排版的設定檔\n  import classroomInfo from \"@/assets/classroom-info.json\"; // 全部的教室資訊\n\n  export default{\n    props: [\n      \"in-building\" // FloorPage.vue(父comp) 傳進來的樓層代號\n    ],\n    data(){\n      return {\n        slt: { // selector\n          building: null, // 目前館樓\n          floor: null, // 目前樓層\n          classroomID: null // 目前選擇的教室\n        }\n      }\n    },\n    created(){ // 初始化平面圖\n      this.resetBuilding();\n      this.urlSwitch(this.$route.query.id);\n    },\n    mounted(){\n      this.sendClassroomID(); // 將預設的 classroomID 傳給 FloorPage.vue(父comp)\n    },\n    methods: {\n      urlSwitch(id){ // 網址的id參數會決定初始選擇的教室,若沒給則用default\n        if (id == undefined) return; // 網址沒給參數\n        if (!(id in classroomInfo)) return; // id不存在或沒有資料\n        \n        for (const building of Object.keys(config.B)){\n          for (const floor of Object.keys(config.B[building].F)){\n            for (const classroomID of Object.keys(config.B[building].F[floor].C)){\n              if (id == building+classroomID){\n                this.setBuilding(building);\n                this.setFloor(floor);\n                this.setClassroom(classroomID);\n              }\n            }\n          }\n        }\n      },\n      \n      setBuilding(building){ // 切換大樓\n        this.slt.building = building;\n        this.resetFloor(); // 切換大樓後,將樓層和教室設為預設值\n      },\n      setFloor(floor){ // 切換樓層\n        this.slt.floor = floor;\n        this.resetClassroom(); // 切換樓層後,將教室設為預設值\n      },\n      setClassroom(classroomID){ // 切換教室\n        this.slt.classroomID = classroomID;\n        this.sendClassroomID(); // 切換教室會將 classroom資料 傳給 FloorPage.vue(父comp)\n      },\n      \n      resetBuilding(){ // 將 大樓+樓層+教室 設為預設值\n        this.setBuilding(config.default); // 預設大樓\n      },\n      resetFloor(){ // 將 樓層+教室 設為預設值\n        this.setFloor(config.B[this.slt.building].default); // 大樓的樓層預設值\n      },\n      resetClassroom(){ // 將 教室 設為預設值\n        this.setClassroom(config.B[this.slt.building].F[this.slt.floor].default); // 樓層的教室預設值\n      },\n      \n      getBGurl(/* 注意一下傳不傳參數會不會更新 */){ // 產生平面圖背景圖片的實際可用路徑\n        const imgURL = config.B[this.slt.building].F[this.slt.floor].bgURL; // 經由 config 取得背景圖片的相對路徑\n        return require(`@/assets/floor/${this.slt.building}/${imgURL}`); // 轉為可用的實際路徑後,return\n      },\n      getBlockData(){ // 教室的矩形按鈕的繪製參數\n        return config.B[this.slt.building].F[this.slt.floor].C;\n      },\n      blockStyle(block){ // 矩形按鈕的座標/大小/顏色\n        let style = { left: `${block.left}px`, top: `${block.top}px`, width: `${block.width}px`, height: `${block.height}px` };\n        if (!(this.slt.building+block.id in classroomInfo)){ // 如果找不到教室資料\n          style.backgroundColor = \"#bbb\"; // 設為灰色\n          style.pointerEvents = \"none\"; // click event 無效\n          return style;\n        }\n        if (this.slt.classroomID == block.id) style.backgroundColor = \"#3ee\"; // 被選取的 block ,設為深藍色\n        return style;\n      },\n      isShowID(id){ // 是否顯示矩形按鈕內的教室id\n        return this.slt.building+id in classroomInfo;\n      },\n      \n      sendClassroomID(){ // 將 classroomID 傳給 FloorPage.vue(父comp)\n        this.$emit(\"classroomID\", this.slt.building + this.slt.classroomID) // 教室的唯一id\n      },\n      clickSwitchButton(switchType){ // 當上下樓按鈕被點擊\n        const floorList = Object.keys(config.B[this.slt.building].F);\n        const nowFloorIndex = floorList.indexOf(this.slt.floor);\n        \n        let nextFloorIndex = nowFloorIndex;\n        if (switchType == \"up\") nextFloorIndex++;\n        else if (switchType == \"down\")  nextFloorIndex--;\n        nextFloorIndex = (nextFloorIndex + floorList.length) % floorList.length;\n        \n        this.setFloor(floorList[nextFloorIndex]); // 切換樓層\n      },\n    },\n    watch: {\n      inBuilding(newValue){ // FloorPage.vue(父comp) 傳進來的樓層代號改變時,切換大樓\n        this.setBuilding(newValue);\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  .block{\n    position: absolute;\n    background-color: #dee;\n    font-size: 18px; font-weight: bold;\n    display: flex; justify-content: center; align-items: center;\n  }\n  .block:hover{\n    background-color: #bee;\n  }\n  .floor{\n    margin-top: 8px;\n    display: flex; justify-content: space-between;\n    user-select: none;\n  }\n  .floor-main{\n    width: 100%; height: 420px;\n    padding: 10px 0;\n    display: flex; justify-content: center; align-items: center;\n  }\n  .floor-main-bg{\n    z-index: 1;\n    pointer-events: none;\n  }\n  .floor-switch{\n    width: 50px;\n    margin: 4px 0; padding: 8px 0;\n    border-left: 1px #ccc solid;\n    font-size: 20px; color: #000; font-weight: bold;\n    display: flex; flex-direction: column; justify-content: center; align-items: center;\n  }\n  .floor-switch > span.ts-icon{\n    width: 30px; height: 30px;\n    border-radius: 4px;\n    font-size: 26px; color: #666;\n    display: flex; justify-content: center; align-items: center;\n  }\n  .floor-switch > span.ts-icon:hover{\n    background-color: #ddd;\n  }\n  .floor-switch-nth{\n    margin: 16px 0;\n  }\n</style>","import { render } from \"./FloorSelector.vue?vue&type=template&id=2fac6464&scoped=true\"\nimport script from \"./FloorSelector.vue?vue&type=script&lang=js\"\nexport * from \"./FloorSelector.vue?vue&type=script&lang=js\"\n\nimport \"./FloorSelector.vue?vue&type=style&index=0&id=2fac6464&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fac6464\"]])\n\nexport default __exports__","<template>\n  <div class=\"ts-center\">\n    <div class=\"building borderShadow ts-selection is-accent is-circular\">\n      <label class=\"item\">\n        <input type=\"radio\" name=\"building\" @click=\"$emit('building', 'ins')\" :checked=\"building == 'ins'\">\n        <div class=\"text\">資工系館&nbsp;(INS)</div>\n      </label>\n      <label class=\"item\">\n        <input type=\"radio\" name=\"building\" @click=\"$emit('building', 'ecg')\" :checked=\"building == 'ecg'\">\n        <div class=\"text\">電綜大樓&nbsp;(ECG)</div>\n      </label>\n    </div>\n  </div>\n</template>\n\n<script>\n  import config from \"@/assets/floor/floor-config.json\"; // 平面圖排版的設定檔\n  import classroomInfo from \"@/assets/classroom-info.json\"; // 全部的教室資訊\n\n  export default{\n    created(){\n      this.urlSwitch(this.$route.query.id);\n    },\n    data(){\n      return {\n        building: \"ins\"\n      }\n    },\n    methods: {\n      urlSwitch(id){ // 網址的id參數會決定初始選擇的館樓,若沒給則用default\n        if (id == undefined) return; // 網址沒給參數\n        if (!(id in classroomInfo)) return; // id不存在或沒有資料\n        \n        for (const building of Object.keys(config.B)){\n          for (const floor of Object.keys(config.B[building].F)){\n            for (const classroomID of Object.keys(config.B[building].F[floor].C)){\n              if (id == building+classroomID) this.building = building;\n            }\n          }\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .building > label:not(:first-child){\n    margin-left: 4px;\n  }\n  .building > label > input:not(:checked) + div:hover{\n    background-color: #ddd;\n  }\n</style>","import { render } from \"./buildingSelector.vue?vue&type=template&id=7061b186&scoped=true\"\nimport script from \"./buildingSelector.vue?vue&type=script&lang=js\"\nexport * from \"./buildingSelector.vue?vue&type=script&lang=js\"\n\nimport \"./buildingSelector.vue?vue&type=style&index=0&id=7061b186&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7061b186\"]])\n\nexport default __exports__","<template>\n  <span class=\"ts-icon is-star-icon\" :class=\"isSave?'saveButton-saved':'saveButton'\" @click=\"clickSaveButton\"></span>\n</template>\n\n<script>\n  import allClassroomInfo from \"@/assets/classroom-info.json\"; // 全部的教室資訊\n  import { getIsSave, addSave, removeSave } from '@/api/save';\n\n  export default{\n    props: [\n      \"classroomID\"\n    ],\n    data(){\n      return {\n        isSave: false // cilent端的\"教室是否被收藏\"\n      }\n    },\n    async created(){\n      this.isSave = await getIsSave(this.classroomID); // 頁面載入時,更新cilent端的\"教室是否被收藏\"\n    },\n    methods: {\n      async clickSaveButton(){ // 更新user的\"教室是否被收藏\"\n        if (!(this.classroomID in allClassroomInfo)) return; // 如果教室資料不存在,無法更新\n        \n        this.isSave = !this.isSave;\n        if (this.isSave) await addSave(this.classroomID);\n        else await removeSave(this.classroomID);\n        this.isSave = await getIsSave(this.classroomID);\n      }\n    },\n    watch: {\n      async classroomID(){ // 教室id改變時,更新cilent端的\"教室是否被收藏\"\n        this.isSave = await getIsSave(this.classroomID);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .saveButton{\n    margin: -5.5px 0 0 6px;\n    border: none;\n    color: #fff; font-size: 20px;\n    -webkit-text-stroke: 1px #666;\n  }\n  .saveButton-saved{\n    margin: -5.5px 0 0 6px;\n    border: none;\n    color: #f80; font-size: 20px;\n    -webkit-text-stroke: 1px;\n  }\n</style>\n<style>\n  .saveButton-tdFix{ /* bad solution */\n    padding-bottom: 0 !important;\n    display: flex;\n  }\n</style>","import { render } from \"./SaveButton.vue?vue&type=template&id=36c0f576&scoped=true\"\nimport script from \"./SaveButton.vue?vue&type=script&lang=js\"\nexport * from \"./SaveButton.vue?vue&type=script&lang=js\"\n\nimport \"./SaveButton.vue?vue&type=style&index=0&id=36c0f576&scoped=true&lang=css\"\nimport \"./SaveButton.vue?vue&type=style&index=1&id=36c0f576&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36c0f576\"]])\n\nexport default __exports__","var map = {\n\t\"./ecg/ecg6.png\": 624,\n\t\"./ecg/ecg7.png\": 607,\n\t\"./ecg/ecgB1.png\": 9681,\n\t\"./ins/ins1.png\": 5212,\n\t\"./ins/ins2.png\": 2554,\n\t\"./ins/ins3.png\": 6516,\n\t\"./ins/insB1.png\": 6840\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7495;"],"names":["async","getIsSave","classroomID","account","localStorage","getItem","toString","response","fetch","method","headers","credentials","body","JSON","stringify","userAccount","ok","Error","json","addSave","removeSave","getAllSave","data","arr","key","push","console","log","getClassroomInfo","classroom_default","building","name","number","equipment","classroom","classroomInfo","id","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","_createVNode","_component_save_button","_hoisted_5","_toDisplayString","_hoisted_6","components","saveButton","props","watch","newValue","this","__exports__","render","draggable","src","$options","getBGurl","slt","floor","_Fragment","_renderList","getBlockData","block","style","_normalizeStyle","blockStyle","onClick","$event","setClassroom","isShowID","_cache","clickSwitchButton","created","resetBuilding","urlSwitch","$route","query","mounted","sendClassroomID","methods","undefined","Object","keys","config","F","C","setBuilding","setFloor","resetFloor","resetClassroom","default","imgURL","bgURL","require","left","top","width","height","backgroundColor","pointerEvents","$emit","switchType","floorList","nowFloorIndex","indexOf","nextFloorIndex","length","inBuilding","type","_ctx","checked","_hoisted_8","_normalizeClass","isSave","args","clickSaveButton","allClassroomInfo","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","code","resolve","module","exports"],"sourceRoot":""}